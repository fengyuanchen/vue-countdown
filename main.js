!function(){"use strict";var t={535:function(t,e){e.A=(t,e)=>{const n=t.__vccOpts||t;for(const[t,o]of e)n[t]=o;return n}}},e={},n=Vue;const o={class:"app"},s={class:"navbar navbar-light navbar-expand-md"},a={class:"container"},d={class:"navbar-brand",href:"./"},i={class:"bg-primary text-white py-5"},c={class:"container"},l={class:"row"},r={class:"col-md"},u={class:"h6"},m={class:"lead"},h={class:"col-md"},p={ref:"carbonads",class:"carbonads"},v={class:"container"},b={class:"markdown-body"};var g=JSON.parse('{"name":"@chenfengyuan/vue-countdown","version":"2.1.3","description":"Countdown component for Vue 3.","main":"dist/vue-countdown.js","module":"dist/vue-countdown.esm.js","types":"dist/vue-countdown.d.ts","files":["dist"],"scripts":{"build":"rollup -c --environment BUILD:production","build:docs":"webpack --env production","build:types":"move-file dist/index.d.ts dist/vue-countdown.d.ts","changelog":"conventional-changelog -p angular -i CHANGELOG.md -s -r 0","clean":"del-cli dist","lint":"npm run lint:js && npm run lint:css","lint:css":"stylelint **/*.{css,scss,vue} --fix","lint:js":"eslint . --ext .js,.ts,.vue --fix","prepare":"husky install","release":"npm run clean && npm run lint && npm run build && npm run build:types && npm run build:docs && npm test && npm run changelog","serve":"webpack serve --hot --open","start":"npm run serve","test":"jest"},"repository":{"type":"git","url":"https://github.com/fengyuanchen/vue-countdown.git"},"keywords":["countdown","vue","vue3","vue-component","front-end","web"],"author":"Chen Fengyuan (https://chenfengyuan.com/)","license":"MIT","bugs":"https://github.com/fengyuanchen/vue-countdown/issues","homepage":"https://fengyuanchen.github.io/vue-countdown","devDependencies":{"@babel/core":"^7.26.9","@babel/preset-env":"^7.26.9","@commitlint/cli":"^17.8.1","@commitlint/config-conventional":"^17.8.1","@types/jest":"^28.1.8","@typescript-eslint/eslint-plugin":"^5.62.0","@typescript-eslint/parser":"^5.62.0","@vue/compiler-sfc":"^3.5.13","@vue/test-utils":"^2.4.6","@vue/vue3-jest":"^28.1.0","babel-jest":"^28.1.3","babel-loader":"^8.4.1","change-case":"^4.1.2","conventional-changelog-cli":"^2.2.2","create-banner":"^2.0.0","css-loader":"^6.11.0","del-cli":"^5.1.0","eslint":"^8.48.0","eslint-config-airbnb-typescript":"^17.1.0","eslint-plugin-import":"^2.31.0","eslint-plugin-vue":"^9.32.0","html-webpack-plugin":"^5.6.3","husky":"^8.0.3","jest":"^28.1.3","jest-environment-jsdom":"^28.1.3","lint-staged":"^13.3.0","markdown-to-vue-loader":"^3.1.5","mini-css-extract-plugin":"^2.9.2","move-file-cli":"^3.0.0","postcss":"^8.5.3","rollup":"^2.79.2","rollup-plugin-postcss":"^4.0.2","rollup-plugin-terser":"^7.0.2","rollup-plugin-typescript2":"^0.36.0","rollup-plugin-vue":"^6.0.0","sass":"^1.85.1","sass-loader":"^13.3.3","style-loader":"^3.3.4","stylelint":"^14.16.1","stylelint-config-recommended-scss":"^7.0.0","stylelint-config-recommended-vue":"^1.6.0","stylelint-order":"^5.0.0","ts-jest":"^28.0.8","ts-loader":"^9.5.2","tslib":"^2.8.1","typescript":"^4.9.5","vue":"^3.5.13","vue-loader":"^17.4.2","webpack":"^5.98.0","webpack-cli":"^4.10.0","webpack-dev-server":"^4.15.2"},"peerDependencies":{"vue":"^3.0.0"},"publishConfig":{"access":"public"}}');const f={class:"component-readme"};var y,w={components:{"component-readme-0":(y={},"function"==typeof y&&(y=y()),"object"!=typeof y&&(y={}),Object.assign(y,{name:"component-readme-0",template:'<div class="component-readme-0">\n  <vue-countdown :time="2 * 24 * 60 * 60 * 1000" v-slot="{ days, hours, minutes, seconds }">\n    Time Remaining：{{ days }} days, {{ hours }} hours, {{ minutes }} minutes, {{ seconds }} seconds.\n  </vue-countdown>\n</div>'})),"component-readme-1":function(){var t={data(){const t=new Date;return{time:new Date(t.getFullYear()+1,0,1)-t}}};return"function"==typeof t&&(t=t()),"object"!=typeof t&&(t={}),Object.assign(t,{name:"component-readme-1",template:'<div class="component-readme-1">\n  <vue-countdown :time="time" :interval="100" v-slot="{ days, hours, minutes, seconds, milliseconds }">\n    New Year Countdown：{{ days }} days, {{ hours }} hours, {{ minutes }} minutes, {{ seconds }}.{{ Math.floor(milliseconds / 100) }} seconds.\n  </vue-countdown>\n</div>'})}(),"component-readme-2":function(){var t={methods:{transformSlotProps(t){const e={};return Object.entries(t).forEach((t=>{let[n,o]=t;e[n]=o<10?`0${o}`:String(o)})),e}}};return"function"==typeof t&&(t=t()),"object"!=typeof t&&(t={}),Object.assign(t,{name:"component-readme-2",template:'<div class="component-readme-2">\n  <vue-countdown :time="2 * 24 * 60 * 60 * 1000" :transform="transformSlotProps" v-slot="{ days, hours, minutes, seconds }">\n    Time Remaining：{{ days }} days, {{ hours }} hours, {{ minutes }} minutes, {{ seconds }} seconds.\n  </vue-countdown>\n</div>'})}(),"component-readme-3":function(){var t={data(){return{counting:!1}},methods:{startCountdown:function(){this.counting=!0},onCountdownEnd:function(){this.counting=!1}}};return"function"==typeof t&&(t=t()),"object"!=typeof t&&(t={}),Object.assign(t,{name:"component-readme-3",template:'<div class="component-readme-3">\n  <button type="button" class="btn btn-primary" :disabled="counting" @click="startCountdown">\n    <vue-countdown v-if="counting" :time="60000" @end="onCountdownEnd" v-slot="{ totalSeconds }">Fetch again {{ totalSeconds }} seconds later</vue-countdown>\n    <span v-else="">Fetch Verification Code</span>\n  </button>\n</div>'})}()}},E=function n(o){var s=e[o];if(void 0!==s)return s.exports;var a=e[o]={exports:{}};return t[o](a,a.exports,n),a.exports}(535),N=(0,E.A)(w,[["render",function(t,e,o,s,a,d){const i=(0,n.resolveComponent)("component-readme-0"),c=(0,n.resolveComponent)("demo-block"),l=(0,n.resolveComponent)("component-readme-1"),r=(0,n.resolveComponent)("component-readme-2"),u=(0,n.resolveComponent)("component-readme-3");return(0,n.openBlock)(),(0,n.createElementBlock)("div",f,[e[0]||(e[0]=(0,n.createElementVNode)("h1",null,"Countdown",-1)),e[1]||(e[1]=(0,n.createElementVNode)("blockquote",null,[(0,n.createElementVNode)("p",null,"Countdown with optional controls.")],-1)),e[2]||(e[2]=(0,n.createElementVNode)("h2",null,"Basic usage",-1)),(0,n.createVNode)(c,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(i)])),_:1}),e[3]||(e[3]=(0,n.createElementVNode)("pre",null,[(0,n.createElementVNode)("code",{class:"language-html"},'<template>\n  <vue-countdown :time="2 * 24 * 60 * 60 * 1000" v-slot="{ days, hours, minutes, seconds }">\n    Time Remaining：{{ days }} days, {{ hours }} hours, {{ minutes }} minutes, {{ seconds }} seconds.\n  </vue-countdown>\n</template>\n')],-1)),e[4]||(e[4]=(0,n.createElementVNode)("h2",null,"Custom interval",-1)),(0,n.createVNode)(c,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(l)])),_:1}),e[5]||(e[5]=(0,n.createElementVNode)("pre",null,[(0,n.createElementVNode)("code",{class:"language-html"},'<template>\n  <vue-countdown :time="time" :interval="100" v-slot="{ days, hours, minutes, seconds, milliseconds }">\n    New Year Countdown：{{ days }} days, {{ hours }} hours, {{ minutes }} minutes, {{ seconds }}.{{ Math.floor(milliseconds / 100) }} seconds.\n  </vue-countdown>\n</template>\n\n<script>\nexport default {\n  data() {\n    const now = new Date();\n    const newYear = new Date(now.getFullYear() + 1, 0, 1);\n\n    return {\n      time: newYear - now,\n    };\n  },\n};\n<\/script>\n')],-1)),e[6]||(e[6]=(0,n.createElementVNode)("h2",null,"Transform slot props",-1)),(0,n.createVNode)(c,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(r)])),_:1}),e[7]||(e[7]=(0,n.createElementVNode)("pre",null,[(0,n.createElementVNode)("code",{class:"language-html"},'<template>\n  <vue-countdown :time="2 * 24 * 60 * 60 * 1000" :transform="transformSlotProps" v-slot="{ days, hours, minutes, seconds }">\n    Time Remaining：{{ days }} days, {{ hours }} hours, {{ minutes }} minutes, {{ seconds }} seconds.\n  </vue-countdown>\n</template>\n\n<script>\nexport default {\n  methods: {\n    transformSlotProps(props) {\n      const formattedProps = {};\n\n      Object.entries(props).forEach(([key, value]) => {\n        formattedProps[key] = value < 10 ? `0${value}` : String(value);\n      });\n\n      return formattedProps;\n    },\n  },\n};\n<\/script>\n')],-1)),e[8]||(e[8]=(0,n.createElementVNode)("h2",null,"Countdown on demand",-1)),(0,n.createVNode)(c,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(u)])),_:1}),e[9]||(e[9]=(0,n.createStaticVNode)('<pre><code class="language-html">&lt;template&gt;\n  &lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; :disabled=&quot;counting&quot; @click=&quot;startCountdown&quot;&gt;\n    &lt;vue-countdown v-if=&quot;counting&quot; :time=&quot;60000&quot; @end=&quot;onCountdownEnd&quot; v-slot=&quot;{ totalSeconds }&quot;&gt;Fetch again {{ totalSeconds }} seconds later&lt;/vue-countdown&gt;\n    &lt;span v-else&gt;Fetch Verification Code&lt;/span&gt;\n  &lt;/button&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nexport default {\n  data() {\n    return {\n      counting: false,\n    };\n  },\n  methods: {\n    startCountdown: function () {\n      this.counting = true;\n    },\n    onCountdownEnd: function () {\n      this.counting = false;\n    },\n  },\n};\n&lt;/script&gt;\n</code></pre><h2>Props</h2><div class="table-responsive"><table class="table"><thead><tr><th>Name</th><th>Type</th><th>Default</th><th>Options</th><th>Description</th></tr></thead><tbody><tr><td>auto-start</td><td><code>boolean</code></td><td><code>true</code></td><td>-</td><td>Indicate if starts the countdown automatically when initialized or not.</td></tr><tr><td>emit-events</td><td><code>boolean</code></td><td><code>true</code></td><td>-</td><td>Indicate if emits the countdown events or not.</td></tr><tr><td>interval</td><td><code>number</code></td><td><code>1000</code></td><td>-</td><td>The interval time (in milliseconds) of the countdown progress. The value should not be less than <code>0</code>.</td></tr><tr><td>now</td><td><code>Function</code></td><td><code>() =&gt; Date.now()</code></td><td>-</td><td>Generates the current time (in milliseconds) in a specific time zone.</td></tr><tr><td>tag</td><td><code>string</code></td><td><code>&quot;span&quot;</code></td><td>-</td><td>The tag name of the component’s root element.</td></tr><tr><td>time</td><td><code>number</code></td><td><code>0</code></td><td>-</td><td>The time (in milliseconds) to count down from.</td></tr><tr><td>transform</td><td><code>Function</code></td><td><code>(slotProps) =&gt; slotProps</code></td><td>-</td><td>Transforms the output slot props before render. The <code>slotProps</code> object contains the following properties: <code>days</code>, <code>hours</code>, <code>minutes</code>, <code>seconds</code>, <code>milliseconds</code>, <code>totalDays</code>, <code>totalHours</code>, <code>totalMinutes</code>, <code>totalSeconds</code>, and <code>totalMilliseconds</code>.</td></tr></tbody></table></div><h2>Methods</h2><div class="table-responsive"><table class="table"><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td>start</td><td><code>()</code></td><td>Starts the countdown. Run automatically when the <code>auto-start</code> prop is set to <code>true</code>.</td></tr><tr><td>abort</td><td><code>()</code></td><td>Aborts the countdown immediately.</td></tr><tr><td>end</td><td><code>()</code></td><td>Ends the countdown manually.</td></tr><tr><td>restart</td><td><code>()</code></td><td>Restarts the countdown.</td></tr></tbody></table></div><h2>Events</h2><div class="table-responsive"><table class="table"><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td>start</td><td><code>()</code></td><td>Fires immediately when the countdown starts.</td></tr><tr><td>progress</td><td><code>(data)</code></td><td>Fires continually when the countdown is in progress. The <code>data</code> object contains the following properties: <code>days</code>, <code>hours</code>, <code>minutes</code>, <code>seconds</code>, <code>milliseconds</code>, <code>totalDays</code>, <code>totalHours</code>, <code>totalMinutes</code>, <code>totalSeconds</code>, and <code>totalMilliseconds</code>.</td></tr><tr><td>abort</td><td><code>()</code></td><td>Fired when the countdown has aborted.</td></tr><tr><td>end</td><td><code>()</code></td><td>Fired when the countdown has ended.</td></tr></tbody></table></div><blockquote><p>Native events that bubble up from child elements are also available.</p></blockquote><p><strong>Note:</strong> You can set the <code>emit-events</code> property to <code>false</code> to disable these events for better performance.</p>',9))])}]]);g.name=g.name.split("/").pop()||"";var V=(0,n.defineComponent)({components:{Readme:N},data(){return g},mounted(){const t=document.createElement("script");t.async=!0,t.id="_carbonads_js",t.src="//cdn.carbonads.com/carbon.js?serve=CKYI55Q7&placement=fengyuanchengithubio",this.$refs.carbonads.appendChild(t)}}),M=(0,E.A)(V,[["render",function(t,e,g,f,y,w){const E=(0,n.resolveComponent)("Readme");return(0,n.openBlock)(),(0,n.createElementBlock)("div",o,[(0,n.createElementVNode)("header",s,[(0,n.createElementVNode)("nav",a,[(0,n.createElementVNode)("a",d,(0,n.toDisplayString)(t.name),1),e[0]||(e[0]=(0,n.createElementVNode)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbar-collapse","aria-controls":"navbar-collapse","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,n.createElementVNode)("span",{class:"navbar-toggler-icon"})],-1)),e[1]||(e[1]=(0,n.createElementVNode)("div",{id:"navbar-collapse",class:"collapse navbar-collapse justify-content-end",role:"navigation"},[(0,n.createElementVNode)("nav",{class:"nav navbar-nav"},[(0,n.createElementVNode)("a",{class:"nav-link",href:"https://github.com/fengyuanchen/vue-countdown",title:"View the GitHub project"}," GitHub "),(0,n.createElementVNode)("a",{class:"nav-link",href:"https://fengyuanchen.github.io/",title:"Explore more projects"}," Explore "),(0,n.createElementVNode)("a",{class:"nav-link",href:"https://chenfengyuan.com/",title:"About the author"}," About ")])],-1))])]),(0,n.createElementVNode)("main",null,[(0,n.createElementVNode)("div",i,[(0,n.createElementVNode)("div",c,[(0,n.createElementVNode)("div",l,[(0,n.createElementVNode)("div",r,[(0,n.createElementVNode)("h1",null,[(0,n.createTextVNode)((0,n.toDisplayString)(t.name)+" ",1),(0,n.createElementVNode)("small",u," v"+(0,n.toDisplayString)(t.version),1)]),(0,n.createElementVNode)("p",m,(0,n.toDisplayString)(t.description),1)]),(0,n.createElementVNode)("div",h,[(0,n.createElementVNode)("div",p,null,512)])])])]),(0,n.createElementVNode)("div",v,[(0,n.createElementVNode)("div",b,[(0,n.createVNode)(E)])])]),e[2]||(e[2]=(0,n.createStaticVNode)('<footer><div class="container"><p class="heart"></p><nav class="nav flex-wrap justify-content-center mb-3"><a class="nav-link" href="https://github.com/fengyuanchen/vue-countdown"> GitHub </a><a class="nav-link" href="https://github.com/fengyuanchen/vue-countdown/blob/main/CHANGELOG.md"> Changelog </a><a class="nav-link" href="https://github.com/fengyuanchen/vue-countdown/blob/main/LICENSE"> License </a><a class="nav-link" href="https://chenfengyuan.com/"> About </a></nav></div></footer>',1))])}]]);const C={class:"demo-block"};var k=(0,n.defineComponent)({name:"DemoBlock"}),S=(0,E.A)(k,[["render",function(t,e,o,s,a,d){return(0,n.openBlock)(),(0,n.createElementBlock)("div",C,[(0,n.renderSlot)(t.$slots,"default")])}]]);const j=1e3,q=6e4,D=36e5,x=864e5,T="abort",F="progress",P="start",H="visibilitychange";var O=(0,n.defineComponent)({name:"VueCountdown",props:{autoStart:{type:Boolean,default:!0},emitEvents:{type:Boolean,default:!0},interval:{type:Number,default:1e3,validator:t=>t>=0},now:{type:Function,default:()=>Date.now()},tag:{type:String,default:"span"},time:{type:Number,default:0,validator:t=>t>=0},transform:{type:Function,default:t=>t}},emits:[T,"end",F,P],data(){return{counting:!1,endTime:0,totalMilliseconds:0,requestId:0,autoPauseOnHide:!1}},computed:{days(){return Math.floor(this.totalMilliseconds/x)},hours(){return Math.floor(this.totalMilliseconds%x/D)},minutes(){return Math.floor(this.totalMilliseconds%D/q)},seconds(){return Math.floor(this.totalMilliseconds%q/j)},milliseconds(){return Math.floor(this.totalMilliseconds%j)},totalDays(){return this.days},totalHours(){return Math.floor(this.totalMilliseconds/D)},totalMinutes(){return Math.floor(this.totalMilliseconds/q)},totalSeconds(){return Math.floor(this.totalMilliseconds/j)}},watch:{$props:{deep:!0,immediate:!0,handler(){this.totalMilliseconds=this.time,this.endTime=this.now()+this.time,this.autoStart&&this.start()}}},mounted(){document.addEventListener(H,this.handleVisibilityChange)},beforeUnmount(){document.removeEventListener(H,this.handleVisibilityChange),this.pause()},methods:{start(){this.counting||(this.counting=!0,this.autoStart||(this.totalMilliseconds=this.time,this.endTime=this.now()+this.time),this.emitEvents&&this.$emit(P),"visible"===document.visibilityState&&this.continue())},continue(){if(!this.counting)return;const t=Math.min(this.totalMilliseconds,this.interval);if(t>0){let e,n;const o=s=>{e||(e=s),n||(n=s);const a=s-e;a>=t||a+(s-n)/2>=t?this.progress():this.requestId=requestAnimationFrame(o),n=s};this.requestId=requestAnimationFrame(o)}else this.end()},pause(){cancelAnimationFrame(this.requestId),this.requestId=0},progress(){this.counting&&(this.update(),this.emitEvents&&this.totalMilliseconds>0&&this.$emit(F,{days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}),this.continue())},abort(){this.counting&&(this.pause(),this.counting=!1,this.emitEvents&&this.$emit(T))},end(){this.counting&&(this.pause(),this.totalMilliseconds=0,this.counting=!1,this.emitEvents&&this.$emit("end"))},update(){this.counting&&(this.totalMilliseconds=Math.max(0,this.endTime-this.now()))},restart(){this.pause(),this.totalMilliseconds=this.time,this.endTime=this.now()+this.time,this.counting=!1,this.start()},handleVisibilityChange(){switch(document.visibilityState){case"visible":0===this.requestId&&this.autoPauseOnHide&&(this.update(),this.continue()),this.autoPauseOnHide=!1;break;case"hidden":this.requestId>0&&(this.autoPauseOnHide=!0,this.pause())}}},render(){return(0,n.h)(this.tag,this.$slots.default?[this.$slots.default(this.transform({days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}))]:void 0)}});const A=(0,n.createApp)(M);A.component(O.name,O),A.component(S.name,S),A.mount("#app")}();